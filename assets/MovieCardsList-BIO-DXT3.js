import{e as u,s as p,j as s,c as x,A as m,d as _,E as h,t as j}from"./index-D17CoPWK.js";import{d as v}from"./deleteFavourite-Cy9kn17O.js";import{u as N}from"./useMovieTransitions-y4cX5MkP.js";const f=({index:o,img:a,title:e,id:t,style:c})=>{const r=u(),l=r.split("/")[1],n=p({mutationFn:()=>v(t),onSuccess(){j.invalidateQueries({queryKey:["favourites"]})}}),d=i=>{i.stopPropagation(),n.mutate()};return s.jsx(x.li,{className:`cards-list__item cards-list__top cards-list__top--${l}`,style:c,children:s.jsxs("article",{className:"card-form card-form__top",children:[r===m.home.path&&s.jsx("div",{className:"index",children:o}),a?s.jsx("img",{className:"card-list__img",src:a,alt:`Фильм: ${e}`}):s.jsx("div",{className:"card-list__error",children:s.jsx("span",{children:"Not Found"})}),s.jsx(_,{className:"card-form__link",to:m.movie.path(t.toString()),role:"button",tabIndex:0}),n.error&&s.jsx("div",{className:"error-delete",children:n.error.message}),l==="profile"&&s.jsx(h,{onClick:d,onKeyDown:i=>{i.key==="Enter"&&d(i)},name:"account",tabIndex:0})]})})},C=({data:o})=>{const a=N(o??[],e=>e.id);return s.jsx("div",{className:"cards-container",children:s.jsx("ul",{className:"cards-list",children:a((e,t,c,r)=>s.jsx(f,{index:r+1,img:t.posterUrl,id:t.id,title:t.title,style:e}))})})};export{C as M};
