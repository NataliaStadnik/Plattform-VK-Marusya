import{e as f,r as a,j as e,d as h,A as v,L as M,B as E,y as _}from"./index-CxRDSZiO.js";import{u as y}from"./deleteFavourite-4y4TcCJz.js";import{E as L}from"./Error-BWloORDh.js";import{M as N}from"./MovieCardsList-eKiT3GiO.js";import"./useMovieTransitions-BGQk0VxX.js";const q=()=>{const o=f().split("/"),r=o[o.length-1],[n,m]=a.useState([]),[t,p]=a.useState("1"),[s,i]=a.useState(10),u=()=>{const g=parseInt(t);s/g===50&&p((g+1).toString()),i(s+10)},{data:d,isError:x,isPending:c,isSuccess:l,error:j}=y({queryFn:()=>_("genre",r,t),queryKey:[r,t]});return a.useEffect(()=>{l&&m([...n,...d])},[l,t]),e.jsx("section",{className:"genre-page section-pd",children:e.jsxs("div",{className:"container genre-page__container",children:[e.jsx(h,{className:"title title--mb genre-page__title",to:v.genres.path,children:r}),c&&e.jsx(M,{}),x&&e.jsx(L,{message:j.message}),e.jsx(N,{data:n.slice(0,s)}),e.jsx("div",{className:"genre-page__wrap",children:n.slice(0,s).length>=10&&e.jsx(E,{name:"Показать ещё",isActive:!0,onClick:u,isLoading:c})})]})})};export{q as default};
